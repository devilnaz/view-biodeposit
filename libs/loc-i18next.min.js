!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.locI18next=t()}(this,(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(n){e(t,n,r[n])}))}return t}var n={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document};return{init:function(e){function r(t,n,r){var i="text";if(0==n.indexOf("[")){var o=n.split("]");n=o[1],i=o[0].substr(1,o[0].length-1)}if(n=n.indexOf(";")==n.length-1?n.substr(0,n.length-2):n,"html"===i)t.innerHTML=e.t(n,l(r,t.innerHTML));else if("text"===i)t.textContent=e.t(n,l(r,t.textContent));else if("prepend"===i){var u=t.innerHTML.indexOf("<loc-i18n>"),c=t.innerHTML.indexOf("</loc-i18n>")+11;u>-1&&c>6&&(t.innerHTML=[t.innerHTML.substring(0,u),t.innerHTML.slice(c)].join("")),t.innerHTML=["<loc-i18n>",e.t(n,l(r,t.innerHTML)),"</loc-i18n>",t.innerHTML].join("")}else if("append"===i){var f=t.innerHTML.indexOf("<loc-i18n>"),s=t.innerHTML.indexOf("</loc-i18n>")+11;f>-1&&s>6&&(t.innerHTML=[t.innerHTML.substring(0,f),t.innerHTML.slice(s)].join("")),t.innerHTML=[t.innerHTML,"<loc-i18n>",e.t(n,l(r,t.innerHTML),"</loc-i18n>")].join("")}else if(0===i.indexOf("data-")){var a=i.substr(5),p=e.t(n,l(r,t.getAttribute(a)));t.setAttribute(a,p),t.setAttribute(i,p)}else t.setAttribute(i,e.t(n,l(r,t.getAttribute(i))))}function i(e,n){var i=e.getAttribute(o.selectorAttr);if(i){var l=e,u=e.getAttribute(o.targetAttr);if(null!=u&&(l=e.querySelector(u)||e),n||!0!==o.useOptionsAttr||(n=function(e){return JSON.parse(e.replace(/:\s*"([^"]*)"/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/:\s*'([^']*)'/g,(function(e,t){return': "'+t.replace(/:/g,"@colon@")+'"'})).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))}(e.getAttribute(o.optionsAttr)||"{}")),n=n||{},i.indexOf(";")>=0)for(var c=i.split(";"),f=0,s=c.length;f<s;f++)""!=c[f]&&r(l,c[f],n);else r(l,i,n);if(!0===o.useOptionsAttr){var a={};delete(a=t({clone:a},n)).lng,e.setAttribute(o.optionsAttr,JSON.stringify(a))}}}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=t({},n,o);var l=function(e,n){return o.parseDefaultValueFromContent?t({},e,{defaultValue:n}):e};return function(e,t){for(var n=((null==t?void 0:t.document)||o.document).querySelectorAll(e),r=0;r<n.length;r++){for(var l=n[r],u=l.querySelectorAll("["+o.selectorAttr+"]"),c=u.length-1;c>-1;c--)i(u[c],t);i(l,t)}}}}}));