function toggleContent(e){let t=e.target.closest(".faq-card__inner"),l=t.querySelector(".faq-card__wrap-content");t.querySelector(".faq-card__btn").classList.toggle("faq-card__btn_show"),0==+window.getComputedStyle(l).maxHeight.replace("px","")?l.style.maxHeight=l.scrollHeight+"px":l.style.maxHeight="0px"}function initAccordion(){let e=document.querySelector("#faq"),t=e.querySelectorAll(".faq-section__container_desktop .faq-section__list"),l=t[0].querySelectorAll(".faq-card"),o=t[1].querySelectorAll(".faq-card");l.forEach((e,t)=>{let l=e.querySelector(".faq-card__header"),c=o[t].querySelector(".faq-card__header"),r=window.getComputedStyle(l).height.replace("px",""),a=window.getComputedStyle(c).height.replace("px","");r>a?l.style.height=a+"px":r<a&&(c.style.height=r+"px")});let c,r;c=e.querySelectorAll("div.faq-card__title"),r=e.querySelectorAll("button.faq-card__btn"),c.forEach(e=>{e.setAttribute("onclick","toggleContent(event)")}),r.forEach(e=>{e.setAttribute("onclick","toggleContent(event)")})}function initCalculateValues(){let e=document.querySelectorAll(".calculator__input");if(e.length>0)for(input of e)outputUpdate(input)}function outputUpdate(e){let t=e.closest(".calculator__card-range"),l=e.getAttribute("id"),o=t.querySelector(".calculator__output"),c=o.querySelector("span"),r=t.querySelector(".calculator__range-value_start"),a=t.querySelector(".calculator__range-value_finish"),n=e.value,i,u,y,s,d,p;c.textContent=n,"tree-count-input"===l?(y=2200,s=9.75,d=10,p=10.3,n<(u=250)?(r.style.opacity=0,a.style.opacity=1,i=n/s):n>=u&&n<y?(r.style.opacity=1,a.style.opacity=1,i=n/d):(r.style.opacity=1,a.style.opacity=0,i=n/p),o.style.left=i+"px"):"oil-price-input"===l?(0==n?(i=0,r.style.opacity=0,a.style.opacity=1):1==n?(i=12,r.style.opacity=1,a.style.opacity=1):2==n?(i=21,r.style.opacity=1,a.style.opacity=1):3==n?(i=30,r.style.opacity=1,a.style.opacity=1):4==n?(i=39,r.style.opacity=1,a.style.opacity=1):5==n?(i=48,r.style.opacity=1,a.style.opacity=1):6==n?(i=57,r.style.opacity=1,a.style.opacity=1):7==n?(i=67,r.style.opacity=1,a.style.opacity=1):8==n?(i=76,r.style.opacity=1,a.style.opacity=1):9==n?(i=85,r.style.opacity=1,a.style.opacity=1):10==n&&(i=95,r.style.opacity=1,a.style.opacity=0),o.style.left=i+"%"):"productivity-input"===l&&(n<25?(r.style.opacity=0,a.style.opacity=1,i=n/.588):n>=25&&n<175?(r.style.opacity=1,a.style.opacity=1,i=n/.644):(r.style.opacity=1,a.style.opacity=0,i=n/.651),o.style.left=i+"px");calculateInvest(e.closest(".income-calculator"))}function calculateInvest(e){let t=e.querySelector("#tree-count-input").value,l=118*t;document.querySelector('[data-num="investment-size"]').textContent=l.toLocaleString("ru-RU");let o=e.querySelector("#oil-price-input").value;document.querySelector('[data-num="oil-price"]').textContent=(+o).toFixed(1).replace(".",",");let c=e.querySelector("#productivity-input").value;e.querySelector('[data-num="productivity"]').textContent=c;let r=e.querySelectorAll("li.expected-income__card"),a={y4:4,y5:4.8,y6:5.4,y7:6,y8:6.8,y9:8,y10:9.6},n=0,i=0;r.forEach((e,r)=>{if(3<=r){var u,y,s;let d=(t*(u=o,y=r,y+1===10?Math.round(u*a["y"+(y+1)]/80*c*1e3)/1e3:Math.round(u*a["y"+(y+1)]*1e3)/1e3)).toFixed(0),p=(s=d,(s/l*100).toFixed(1));n=(100*n+100*+d)/100,i=(100*i+100*+p)/100,e.querySelector('[data-num="expected-income"]').textContent=d.toLocaleString("ru-RU"),e.querySelector('[data-num="expected-percentage"]').textContent=(+p).toLocaleString("ru-RU")}}),e.querySelector('[data-num="average-income"]').textContent=Math.round(n/10).toLocaleString("ru-RU"),e.querySelector('[data-num="average-percentage"]').textContent=(Math.round(i/10*10)/10).toLocaleString("ru-RU"),e.querySelector('[data-num="income-first-years"]').textContent=n.toLocaleString("ru-RU"),e.querySelector('[data-num="percentage-first-years"]').textContent=i.toLocaleString("ru-RU")}window.addEventListener("load",function(){initAccordion()}),initCalculateValues();const installMenu=()=>{document.querySelector("#menu-btn").addEventListener("click",openMenu);document.querySelector("#menu-ground").addEventListener("click",openMenu);let e=document.querySelectorAll("a.dropdown-menu__link");for(let t of e)t.addEventListener("click",openMenu)};function openMenu(){console.log("click");let e=document.querySelector(".dropdown-menu"),t=document.querySelector("#menu-ground"),l=document.querySelector("#menu-btn");document.querySelector("body"),l.classList.toggle("menu__btn_open"),t.classList.toggle("header__ground_hide");"hide"===e.getAttribute("data-visible")?e.setAttribute("data-visible","show"):e.setAttribute("data-visible","hide")}function initModal(){let e=document.querySelectorAll(".calculate-card__btn");if(e.length>0)for(let t of e)t.setAttribute("onclick","openModal(this)");let l=document.querySelectorAll(".modal__overlay");if(l.length>0)for(let o of l)o.setAttribute("onclick","closeModal(event)")}function openModal(e){let t=document.querySelector("#modal-invest");t&&(document.querySelector("body").style.overflow="hidden",t.classList.toggle("modal_open"))}function closeModal(e){if(!e.target.closest(".window-modal")||e.target.classList.contains("window-modal__close")){document.querySelector("body").style.overflow="auto";e.target.closest(".modal").classList.toggle("modal_open")}}installMenu(),initModal();const installClick=()=>{let e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.getAttribute("href").length>1&&t.setAttribute("onclick","scrollToSection(event)")},scrollToSection=e=>{e.preventDefault();let t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})};installClick();